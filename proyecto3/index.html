<!DOCTYPE html>
<html lang="es">
    <head>
        <!-- Las etiquetas meta son pistas/indicaciones que damos al navegador -->
        <meta charset="UTF-8">
        <title>Mi Aplicación</title>
        <link rel="stylesheet" href="./style.css">
        <link rel="stylesheet" href="./typewriter/style.css">
        <!--script type="module" src="./overlay.js"></script-->
    </head>
    <body>
        
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eius inventore placeat aliquid totam! At porro doloremque nobis veniam consequatur amet, doloribus inventore et dolorum totam officiis rem ducimus harum! Harum.</p>
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eius inventore placeat aliquid totam! At porro doloremque nobis veniam consequatur amet, doloribus inventore et dolorum totam officiis rem ducimus harum! Harum.</p>
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eius inventore placeat aliquid totam! At porro doloremque nobis veniam consequatur amet, doloribus inventore et dolorum totam officiis rem ducimus harum! Harum.</p>
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eius inventore placeat aliquid totam! At porro doloremque nobis veniam consequatur amet, doloribus inventore et dolorum totam officiis rem ducimus harum! Harum.</p>
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eius inventore placeat aliquid totam! At porro doloremque nobis veniam consequatur amet, doloribus inventore et dolorum totam officiis rem ducimus harum! Harum.</p>
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eius inventore placeat aliquid totam! At porro doloremque nobis veniam consequatur amet, doloribus inventore et dolorum totam officiis rem ducimus harum! Harum.</p>
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eius inventore placeat aliquid totam! At porro doloremque nobis veniam consequatur amet, doloribus inventore et dolorum totam officiis rem ducimus harum! Harum.</p>
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eius inventore placeat aliquid totam! At porro doloremque nobis veniam consequatur amet, doloribus inventore et dolorum totam officiis rem ducimus harum! Harum.</p>
        <p>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Eius inventore placeat aliquid totam! At porro doloremque nobis veniam consequatur amet, doloribus inventore et dolorum totam officiis rem ducimus harum! Harum.</p>
        
        <script languaje="javascript" type="module">
            import { mostrarOverlay } from './overlay.js';
            document.addEventListener('DOMContentLoaded', function() {
                setTimeout(function() {
                    const promesa = new Promise( (resolve, reject) => {
                        setTimeout( ()=> {
                            resolve();
                        }, 20*1000);
                    });
                    const funcionDeCerradoDelOverlayQueAbro = mostrarOverlay(
                        {
                            titulo: {
                                texto: 'Estamos realizando su búsqueda',
                                caracteristicas: {
                                    velocidad: 20,
                                    cursor: '',
                                    estiloTexto: 'titulo-overlay',
                                },
                            }, 
                            mensaje: {
                                texto: 'Tardaremos solamente unos segundos',
                                caracteristicas: {
                                    velocidad: 120,
                                    cursor: '_',
                                    velocidadParpadeoCursor: 300,
                                    estiloTexto: 'texto-overlay',
                                    estiloCursor: 'texto-overlay',
                                    ocultarCursorAlFinalizar: false
                                },
                            },
                            fondo: {
                                color: '#ddffdddd',
                                imagen: 'overlay.jpg',
                                transparencia: 0.2,
                            }
                        },
                        promesa
                    );

                        
                    setTimeout( ()=> {
                        const funcionDelSegundoOverlay = mostrarOverlay(
                            {
                                titulo: {
                                    texto: 'Parece que hemos perdido cobertura de red',
                                    caracteristicas: {
                                        velocidad: 20,
                                        cursor: '',
                                        estiloTexto: 'titulo-overlay',
                                    },
                                }, 
                                mensaje: {
                                    texto: 'Estamos tratando de recuperar la conexión con el servidor. Espere',
                                    caracteristicas: {
                                        velocidad: 120,
                                        cursor: '_',
                                        velocidadParpadeoCursor: 300,
                                        estiloTexto: 'texto-overlay',
                                        estiloCursor: 'texto-overlay',
                                        ocultarCursorAlFinalizar: false
                                    },
                                },
                                fondo: {
                                    color: '#ffddddff',
                                    imagen: 'overlay.jpg',
                                    transparencia: 0.2,
                                }
                            }
                        );

                        setTimeout( ()=> {
                            funcionDelSegundoOverlay();
                        }, 8*1000);
                    }, 8*1000);

                }, 3*1000);

            });
        </script>

    </body>
</html>
